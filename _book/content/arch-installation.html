<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.28">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>2&nbsp; Manual Arch Linux Installation – Arch Linux Installation and Setup Personal Guide</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../content/graphical-environment.html" rel="next">
<link href="../index.html" rel="prev">
<link href="../images/archlinux-logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-b719d3d4935f2b08311a76135e2bf442.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-c27fdc8e5b00b532d2d5a75ada188648.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../content/arch-installation.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Manual Arch Linux Installation</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Arch Linux Installation and Setup Personal Guide</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/Aditya-Shandilya/Arch-Installation-and-Setup/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Welcome</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/arch-installation.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Manual Arch Linux Installation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/graphical-environment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Building the Graphical Environment</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">2.1</span> Introduction</a></li>
  <li><a href="#pre-installation-checks" id="toc-pre-installation-checks" class="nav-link" data-scroll-target="#pre-installation-checks"><span class="header-section-number">2.2</span> Pre-Installation Checks</a>
  <ul class="collapse">
  <li><a href="#verify-boot-mode" id="toc-verify-boot-mode" class="nav-link" data-scroll-target="#verify-boot-mode"><span class="header-section-number">2.2.1</span> Verify Boot Mode</a></li>
  <li><a href="#verify-network-connectivity" id="toc-verify-network-connectivity" class="nav-link" data-scroll-target="#verify-network-connectivity"><span class="header-section-number">2.2.2</span> Verify Network Connectivity</a></li>
  <li><a href="#update-system-clock" id="toc-update-system-clock" class="nav-link" data-scroll-target="#update-system-clock"><span class="header-section-number">2.2.3</span> Update System Clock</a></li>
  </ul></li>
  <li><a href="#disk-partitioning-and-preparation" id="toc-disk-partitioning-and-preparation" class="nav-link" data-scroll-target="#disk-partitioning-and-preparation"><span class="header-section-number">2.3</span> Disk Partitioning and Preparation</a>
  <ul class="collapse">
  <li><a href="#understanding-the-layout" id="toc-understanding-the-layout" class="nav-link" data-scroll-target="#understanding-the-layout"><span class="header-section-number">2.3.1</span> Understanding the Layout</a></li>
  <li><a href="#partition-the-disk" id="toc-partition-the-disk" class="nav-link" data-scroll-target="#partition-the-disk"><span class="header-section-number">2.3.2</span> Partition the Disk</a></li>
  <li><a href="#format-the-partitions" id="toc-format-the-partitions" class="nav-link" data-scroll-target="#format-the-partitions"><span class="header-section-number">2.3.3</span> Format the Partitions</a></li>
  <li><a href="#create-and-mount-btrfs-subvolumes" id="toc-create-and-mount-btrfs-subvolumes" class="nav-link" data-scroll-target="#create-and-mount-btrfs-subvolumes"><span class="header-section-number">2.3.4</span> Create and Mount Btrfs Subvolumes</a></li>
  <li><a href="#remount-with-optimizations" id="toc-remount-with-optimizations" class="nav-link" data-scroll-target="#remount-with-optimizations"><span class="header-section-number">2.3.5</span> Remount with Optimizations</a></li>
  <li><a href="#mount-remaining-subvolumes-and-efi" id="toc-mount-remaining-subvolumes-and-efi" class="nav-link" data-scroll-target="#mount-remaining-subvolumes-and-efi"><span class="header-section-number">2.3.6</span> Mount Remaining Subvolumes and EFI</a></li>
  </ul></li>
  <li><a href="#installing-the-base-system" id="toc-installing-the-base-system" class="nav-link" data-scroll-target="#installing-the-base-system"><span class="header-section-number">2.4</span> Installing the Base System</a>
  <ul class="collapse">
  <li><a href="#configure-package-mirrors" id="toc-configure-package-mirrors" class="nav-link" data-scroll-target="#configure-package-mirrors"><span class="header-section-number">2.4.1</span> Configure Package Mirrors</a></li>
  <li><a href="#understanding-pacstrap" id="toc-understanding-pacstrap" class="nav-link" data-scroll-target="#understanding-pacstrap"><span class="header-section-number">2.4.2</span> Understanding pacstrap</a></li>
  <li><a href="#generate-fstab" id="toc-generate-fstab" class="nav-link" data-scroll-target="#generate-fstab"><span class="header-section-number">2.4.3</span> Generate fstab</a></li>
  </ul></li>
  <li><a href="#system-configuration" id="toc-system-configuration" class="nav-link" data-scroll-target="#system-configuration"><span class="header-section-number">2.5</span> System Configuration</a>
  <ul class="collapse">
  <li><a href="#enter-the-new-system" id="toc-enter-the-new-system" class="nav-link" data-scroll-target="#enter-the-new-system"><span class="header-section-number">2.5.1</span> Enter the New System</a></li>
  <li><a href="#set-time-zone" id="toc-set-time-zone" class="nav-link" data-scroll-target="#set-time-zone"><span class="header-section-number">2.5.2</span> Set Time Zone</a></li>
  <li><a href="#configure-localization" id="toc-configure-localization" class="nav-link" data-scroll-target="#configure-localization"><span class="header-section-number">2.5.3</span> Configure Localization</a></li>
  <li><a href="#configure-networking" id="toc-configure-networking" class="nav-link" data-scroll-target="#configure-networking"><span class="header-section-number">2.5.4</span> Configure Networking</a></li>
  <li><a href="#set-root-password" id="toc-set-root-password" class="nav-link" data-scroll-target="#set-root-password"><span class="header-section-number">2.5.5</span> Set Root Password</a></li>
  <li><a href="#create-user-account" id="toc-create-user-account" class="nav-link" data-scroll-target="#create-user-account"><span class="header-section-number">2.5.6</span> Create User Account</a></li>
  <li><a href="#configure-sudo" id="toc-configure-sudo" class="nav-link" data-scroll-target="#configure-sudo"><span class="header-section-number">2.5.7</span> Configure sudo</a></li>
  </ul></li>
  <li><a href="#bootloader-installation" id="toc-bootloader-installation" class="nav-link" data-scroll-target="#bootloader-installation"><span class="header-section-number">2.6</span> Bootloader Installation</a>
  <ul class="collapse">
  <li><a href="#vm-tools-virtual-machine-only" id="toc-vm-tools-virtual-machine-only" class="nav-link" data-scroll-target="#vm-tools-virtual-machine-only"><span class="header-section-number">2.6.1</span> VM Tools (Virtual Machine Only)</a></li>
  </ul></li>
  <li><a href="#completing-installation" id="toc-completing-installation" class="nav-link" data-scroll-target="#completing-installation"><span class="header-section-number">2.7</span> Completing Installation</a>
  <ul class="collapse">
  <li><a href="#exit-and-reboot" id="toc-exit-and-reboot" class="nav-link" data-scroll-target="#exit-and-reboot"><span class="header-section-number">2.7.1</span> Exit and Reboot</a></li>
  </ul></li>
  <li><a href="#first-boot" id="toc-first-boot" class="nav-link" data-scroll-target="#first-boot"><span class="header-section-number">2.8</span> First Boot</a></li>
  <li><a href="#next-steps" id="toc-next-steps" class="nav-link" data-scroll-target="#next-steps"><span class="header-section-number">2.9</span> Next Steps</a></li>
  <li><a href="#key-takeaways" id="toc-key-takeaways" class="nav-link" data-scroll-target="#key-takeaways"><span class="header-section-number">2.10</span> Key Takeaways</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/Aditya-Shandilya/Arch-Installation-and-Setup/edit/main/content/arch-installation.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/Aditya-Shandilya/Arch-Installation-and-Setup/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Manual Arch Linux Installation</span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introduction" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">2.1</span> Introduction</h2>
<p>This chapter documents a manual Arch Linux installation process. Unlike automated installers, this approach requires understanding each component of the system. The goal is to build knowledge incrementally, creating a foundation for deeper Linux expertise.</p>
<p>The installation follows the Arch philosophy: simplicity, user control, and transparency. By the end, you’ll have a minimal, command-line system ready for customization.</p>
</section>
<section id="pre-installation-checks" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="pre-installation-checks"><span class="header-section-number">2.2</span> Pre-Installation Checks</h2>
<p>Before installing, verify that the live environment is configured correctly.</p>
<section id="verify-boot-mode" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="verify-boot-mode"><span class="header-section-number">2.2.1</span> Verify Boot Mode</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> /sys/firmware/efi/efivars</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What this does:</strong> Checks if the system booted in UEFI mode. If the directory exists and contains files, you’re in UEFI mode. This is important because the bootloader installation later depends on the boot mode.</p>
<p><strong>Why it matters:</strong> Modern systems use UEFI instead of legacy BIOS. UEFI provides better security features and faster boot times. The presence of <code>efivars</code> confirms the firmware interface is accessible.</p>
</section>
<section id="verify-network-connectivity" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="verify-network-connectivity"><span class="header-section-number">2.2.2</span> Verify Network Connectivity</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ping</span> archlinux.org</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What this does:</strong> Sends network packets to verify internet connectivity. Press <code>Ctrl+C</code> to stop.</p>
<p><strong>Why it matters:</strong> The installation requires downloading packages from remote repositories. The live environment typically configures networking automatically via DHCP, but it’s essential to verify before proceeding.</p>
</section>
<section id="update-system-clock" class="level3" data-number="2.2.3">
<h3 data-number="2.2.3" class="anchored" data-anchor-id="update-system-clock"><span class="header-section-number">2.2.3</span> Update System Clock</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">timedatectl</span> set-ntp true</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What this does:</strong> Enables Network Time Protocol (NTP) synchronization, ensuring the system clock is accurate.</p>
<p><strong>Why it matters:</strong> Accurate timestamps are crucial for package management, encryption, and system logs. Many security protocols depend on synchronized time.</p>
</section>
</section>
<section id="disk-partitioning-and-preparation" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="disk-partitioning-and-preparation"><span class="header-section-number">2.3</span> Disk Partitioning and Preparation</h2>
<p>This section creates the disk structure: an EFI partition for the bootloader, a swap partition for memory overflow, and a Btrfs partition for the root filesystem.</p>
<section id="understanding-the-layout" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="understanding-the-layout"><span class="header-section-number">2.3.1</span> Understanding the Layout</h3>
<ul>
<li><strong>EFI Partition (512MB):</strong> Stores bootloader files. Must be FAT32 format.</li>
<li><strong>Swap Partition (2GB):</strong> Acts as overflow when RAM is full. Size typically matches RAM for systems with ≤8GB.</li>
<li><strong>Root Partition (Remaining):</strong> Contains the entire Linux system using Btrfs filesystem.</li>
</ul>
</section>
<section id="partition-the-disk" class="level3" data-number="2.3.2">
<h3 data-number="2.3.2" class="anchored" data-anchor-id="partition-the-disk"><span class="header-section-number">2.3.2</span> Partition the Disk</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">cfdisk</span> /dev/sda</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What this does:</strong> Opens an interactive partition editor. The disk is typically <code>/dev/sda</code> in virtual machines.</p>
<p><strong>Step-by-step:</strong></p>
<ol type="1">
<li>Select <strong>gpt</strong> when prompted. GPT (GUID Partition Table) is required for UEFI and supports disks larger than 2TB.</li>
<li>Create the EFI partition:
<ul>
<li>Select <strong>New</strong> → Enter <code>512M</code></li>
<li>Navigate to <strong>Type</strong> → Select <strong>EFI System</strong></li>
</ul></li>
<li>Create the swap partition:
<ul>
<li>Select <strong>New</strong> → Enter <code>2G</code></li>
<li>Navigate to <strong>Type</strong> → Select <strong>Linux swap</strong></li>
</ul></li>
<li>Create the root partition:
<ul>
<li>Select <strong>New</strong> → Press Enter (uses remaining space)</li>
<li>Type should default to <strong>Linux filesystem</strong></li>
</ul></li>
<li>Select <strong>Write</strong> → Type <code>yes</code> → Select <strong>Quit</strong></li>
</ol>
<p><strong>Why these choices:</strong> GPT is modern and required for UEFI. The 512MB EFI partition provides ample space for multiple kernels. The 2GB swap allows basic memory management without wasting disk space.</p>
</section>
<section id="format-the-partitions" class="level3" data-number="2.3.3">
<h3 data-number="2.3.3" class="anchored" data-anchor-id="format-the-partitions"><span class="header-section-number">2.3.3</span> Format the Partitions</h3>
<p>Formatting creates filesystems on the raw partitions, making them usable by the operating system.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mkfs.fat</span> <span class="at">-F32</span> /dev/sda1         <span class="co"># EFI partition</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">mkswap</span> /dev/sda2                <span class="co"># Swap partition</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="ex">swapon</span> /dev/sda2                <span class="co"># Activate swap</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="ex">mkfs.btrfs</span> <span class="at">-L</span> ArchRoot /dev/sda3  <span class="co"># Root partition</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What each command does:</strong></p>
<ul>
<li><code>mkfs.fat -F32</code>: Creates a FAT32 filesystem (required for EFI).</li>
<li><code>mkswap</code>: Prepares the partition for use as swap space.</li>
<li><code>swapon</code>: Activates swap immediately for the installation process.</li>
<li><code>mkfs.btrfs -L ArchRoot</code>: Creates a Btrfs filesystem with the label “ArchRoot”.</li>
</ul>
<p><strong>Why Btrfs:</strong> Btrfs offers advanced features like snapshots, compression, and subvolumes. Subvolumes allow separate management of different directory trees while sharing the same filesystem.</p>
</section>
<section id="create-and-mount-btrfs-subvolumes" class="level3" data-number="2.3.4">
<h3 data-number="2.3.4" class="anchored" data-anchor-id="create-and-mount-btrfs-subvolumes"><span class="header-section-number">2.3.4</span> Create and Mount Btrfs Subvolumes</h3>
<p>Subvolumes provide flexibility for snapshots and separate management of system components.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mount</span> /dev/sda3 /mnt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What this does:</strong> Temporarily mounts the Btrfs partition to create subvolumes.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">btrfs</span> subvolume create /mnt/@</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="ex">btrfs</span> subvolume create /mnt/home</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="ex">btrfs</span> subvolume create /mnt/@pkg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What this does:</strong> Creates three subvolumes:</p>
<ul>
<li><code>@</code>: The root filesystem (follows Btrfs naming convention)</li>
<li><code>home</code>: User home directories</li>
<li><code>@pkg</code>: Package cache at <code>/var/cache/pacman/pkg</code></li>
</ul>
<p><strong>Why separate subvolumes:</strong> This allows independent snapshots of the root system without including user data or the package cache. You can restore the system without affecting personal files.</p>
</section>
<section id="remount-with-optimizations" class="level3" data-number="2.3.5">
<h3 data-number="2.3.5" class="anchored" data-anchor-id="remount-with-optimizations"><span class="header-section-number">2.3.5</span> Remount with Optimizations</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">umount</span> /mnt</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mount</span> <span class="at">-o</span> compress=zstd,noatime,subvol=@ /dev/sda3 /mnt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What this does:</strong> Unmounts the filesystem, then remounts the root subvolume with specific options.</p>
<p><strong>Mount options explained:</strong></p>
<ul>
<li><code>compress=zstd</code>: Enables transparent compression using Zstandard algorithm. Saves disk space and can improve performance on modern CPUs.</li>
<li><code>noatime</code>: Disables recording file access times, reducing write operations and improving performance.</li>
<li><code>subvol=@</code>: Mounts the root subvolume specifically.</li>
</ul>
</section>
<section id="mount-remaining-subvolumes-and-efi" class="level3" data-number="2.3.6">
<h3 data-number="2.3.6" class="anchored" data-anchor-id="mount-remaining-subvolumes-and-efi"><span class="header-section-number">2.3.6</span> Mount Remaining Subvolumes and EFI</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> <span class="at">-p</span> /mnt/<span class="dt">{boot/efi</span><span class="op">,</span><span class="dt">home</span><span class="op">,</span><span class="dt">var/cache/pacman/pkg}</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mount</span> <span class="at">-o</span> compress=zstd,noatime,subvol=home /dev/sda3 /mnt/home</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mount</span> <span class="at">-o</span> compress=zstd,noatime,subvol=@pkg /dev/sda3 /mnt/var/cache/pacman/pkg</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mount</span> /dev/sda1 /mnt/boot/efi</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What this does:</strong></p>
<ol type="1">
<li>Creates necessary directories under <code>/mnt</code></li>
<li>Mounts <code>home</code> subvolume to <code>/mnt/home</code></li>
<li>Mounts <code>@pkg</code> subvolume to the pacman cache location</li>
<li>Mounts the EFI partition to <code>/mnt/boot/efi</code></li>
</ol>
<p><strong>Verification:</strong> Run <code>lsblk</code> to view the partition structure and confirm all mounts are correct.</p>
</section>
</section>
<section id="installing-the-base-system" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="installing-the-base-system"><span class="header-section-number">2.4</span> Installing the Base System</h2>
<section id="configure-package-mirrors" class="level3" data-number="2.4.1">
<h3 data-number="2.4.1" class="anchored" data-anchor-id="configure-package-mirrors"><span class="header-section-number">2.4.1</span> Configure Package Mirrors</h3>
<p>Before installing packages, it’s beneficial to optimize the mirror list for faster downloads.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">vim</span> /etc/pacman.d/mirrorlist</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What this file contains:</strong> A list of all available Arch Linux repository mirrors worldwide. The package manager (<code>pacman</code>) reads this file from top to bottom and uses the first working mirror it encounters.</p>
<p><strong>Why mirror selection matters:</strong> Geographically closer mirrors typically provide faster download speeds, reducing installation time and improving future system updates.</p>
<section id="understanding-mirror-geography" class="level4" data-number="2.4.1.1">
<h4 data-number="2.4.1.1" class="anchored" data-anchor-id="understanding-mirror-geography"><span class="header-section-number">2.4.1.1</span> Understanding Mirror Geography</h4>
<p>The mirrorlist contains mirrors from various locations globally:</p>
<ul>
<li><strong>Germany (DE)</strong>: <code>de.arch.niran.jan.co</code>, <code>arch.phinau.de</code>, <code>berlin.mirror.pkgbuild.com</code></li>
<li><strong>United States (US)</strong>: <code>us.arch.mirror.constant.com</code>, <code>losangeles.mirror.pkgbuild.com</code></li>
<li><strong>Singapore</strong>: <code>singapore.mirror.pkgbuild.com</code></li>
<li><strong>South Africa</strong>: <code>johannesburg.mirror.pkgbuild.com</code></li>
<li><strong>Europe (General)</strong>: <code>mirror.xtom.ee</code>, <code>archlinux.tk-leaf.net</code></li>
</ul>
</section>
<section id="prioritizing-your-nearest-mirrors" class="level4" data-number="2.4.1.2">
<h4 data-number="2.4.1.2" class="anchored" data-anchor-id="prioritizing-your-nearest-mirrors"><span class="header-section-number">2.4.1.2</span> Prioritizing Your Nearest Mirrors</h4>
<p><strong>Steps to reorder mirrors:</strong></p>
<ol type="1">
<li>In <code>vim</code>, navigate using arrow keys to locate mirrors closest to your location</li>
<li>Position your cursor on the line of your preferred mirror</li>
<li>Press <code>dd</code> to cut (delete) the entire line</li>
<li>Move to the top of the list (below the comment headers)</li>
<li>Press <code>p</code> to paste the line</li>
<li>Repeat for additional nearby mirrors to create a prioritized list</li>
</ol>
<p><strong>Example for Germany:</strong> You would move these mirrors to the top:</p>
<pre><code>Server = https://de.arch.niran.jan.co/$repo/os/$arch
Server = https://arch.phinau.de/$repo/os/$arch
Server = https://berlin.mirror.pkgbuild.com/$repo/os/$arch</code></pre>
<p><strong>Vim commands reference:</strong></p>
<p>Vim operates in different modes. Understanding this is key to using it effectively:</p>
<ul>
<li><strong>Normal mode</strong> (default): For navigation and commands
<ul>
<li><code>j</code>: Move down one line</li>
<li><code>k</code>: Move up one line</li>
<li>Arrow keys: Also work for navigation (up, down, left, right)</li>
<li><code>dd</code>: Cut (delete) the current line</li>
<li><code>p</code>: Paste below the cursor</li>
</ul></li>
<li><strong>Insert mode</strong>: For typing text
<ul>
<li><code>i</code>: Enter insert mode (you’ll see <code>-- INSERT --</code> at the bottom)</li>
<li>In insert mode, <code>j</code> and <code>k</code> type the letters ‘j’ and ‘k’ instead of moving</li>
<li>Arrow keys still work for navigation even in insert mode</li>
</ul></li>
<li><strong>Command mode</strong>: For saving and quitting
<ul>
<li><code>ESC</code>: Return to normal mode from any other mode</li>
<li><code>:wq</code>: Write (save) and quit</li>
<li><code>:q!</code>: Quit without saving (if you make a mistake)</li>
</ul></li>
</ul>
<p><strong>Quick tip:</strong> If you’re unsure which mode you’re in, press <code>ESC</code> to return to normal mode.</p>
<p><strong>Saving and exiting:</strong></p>
<ol type="1">
<li>Press <code>ESC</code> to ensure you’re in normal mode</li>
<li>Type <code>:wq</code> and press <code>Enter</code></li>
</ol>
<p>This prioritization ensures faster downloads throughout the installation and for future system updates.</p>
</section>
</section>
<section id="understanding-pacstrap" class="level3" data-number="2.4.2">
<h3 data-number="2.4.2" class="anchored" data-anchor-id="understanding-pacstrap"><span class="header-section-number">2.4.2</span> Understanding pacstrap</h3>
<p>The <code>pacstrap</code> script installs packages to a specified directory, creating the foundation of your Arch system.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacstrap</span> /mnt base linux linux-firmware vim</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What this installs:</strong></p>
<ul>
<li><code>base</code>: Meta-package containing essential system utilities</li>
<li><code>linux</code>: The Linux kernel</li>
<li><code>linux-firmware</code>: Binary firmware files for common hardware</li>
<li><code>vim</code>: Text editor (you can substitute with <code>nano</code> if preferred)</li>
</ul>
<p><strong>Why these packages:</strong> The <code>base</code> package provides the bare minimum for a bootable system. The kernel is the operating system core. Firmware enables hardware like WiFi cards and graphics adapters. A text editor is essential for configuration.</p>
</section>
<section id="generate-fstab" class="level3" data-number="2.4.3">
<h3 data-number="2.4.3" class="anchored" data-anchor-id="generate-fstab"><span class="header-section-number">2.4.3</span> Generate fstab</h3>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">genfstab</span> <span class="at">-U</span> /mnt <span class="op">&gt;&gt;</span> /mnt/etc/fstab</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What this does:</strong> Creates the <code>/etc/fstab</code> file, which defines how partitions and subvolumes mount at boot.</p>
<p><strong>The <code>-U</code> flag:</strong> Uses UUIDs (Universally Unique Identifiers) instead of device names. UUIDs remain consistent even if device naming changes, making the system more robust.</p>
</section>
</section>
<section id="system-configuration" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="system-configuration"><span class="header-section-number">2.5</span> System Configuration</h2>
<section id="enter-the-new-system" class="level3" data-number="2.5.1">
<h3 data-number="2.5.1" class="anchored" data-anchor-id="enter-the-new-system"><span class="header-section-number">2.5.1</span> Enter the New System</h3>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">arch-chroot</span> /mnt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What this does:</strong> Changes root into the new installation. This means you’re now operating within the newly installed system rather than the live environment.</p>
<p><strong>Why chroot:</strong> This allows you to configure the system as if you had booted into it. All commands now affect the installed system, not the live USB.</p>
</section>
<section id="set-time-zone" class="level3" data-number="2.5.2">
<h3 data-number="2.5.2" class="anchored" data-anchor-id="set-time-zone"><span class="header-section-number">2.5.2</span> Set Time Zone</h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ln</span> <span class="at">-sf</span> /usr/share/zoneinfo/Region/City /etc/localtime</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="ex">hwclock</span> <span class="at">--systohc</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What this does:</strong></p>
<ol type="1">
<li>Creates a symbolic link from your timezone file to <code>/etc/localtime</code></li>
<li>Generates <code>/etc/adjtime</code> based on the current system time</li>
</ol>
<p><strong>Example:</strong> For New York: <code>ln -sf /usr/share/zoneinfo/America/New_York /etc/localtime</code></p>
<p><strong>Why this matters:</strong> The timezone setting affects timestamps in logs, scheduled tasks, and user-facing time displays.</p>
</section>
<section id="configure-localization" class="level3" data-number="2.5.3">
<h3 data-number="2.5.3" class="anchored" data-anchor-id="configure-localization"><span class="header-section-number">2.5.3</span> Configure Localization</h3>
<p>Locales define language, character encoding, and regional formatting.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">vim</span> /etc/locale.gen</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What to do:</strong> Uncomment your locale(s). Most users will uncomment <code>en_US.UTF-8 UTF-8</code>.</p>
<p><strong>Understanding UTF-8:</strong> UTF-8 is a character encoding that supports international characters. It’s the standard for modern Linux systems.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">locale-gen</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"LANG=en_US.UTF-8"</span> <span class="op">&gt;</span> /etc/locale.conf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What this does:</strong></p>
<ol type="1">
<li>Generates the locale files you uncommented</li>
<li>Sets the system-wide default locale</li>
</ol>
</section>
<section id="configure-networking" class="level3" data-number="2.5.4">
<h3 data-number="2.5.4" class="anchored" data-anchor-id="configure-networking"><span class="header-section-number">2.5.4</span> Configure Networking</h3>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"your-hostname"</span> <span class="op">&gt;</span> /etc/hostname</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What this does:</strong> Sets your computer’s name on the network. Choose something memorable and unique.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> networkmanager</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="ex">systemctl</span> enable NetworkManager</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What this does:</strong></p>
<ol type="1">
<li>Installs NetworkManager, a program that handles network connections</li>
<li>Enables the service to start automatically at boot</li>
</ol>
<p><strong>Why NetworkManager:</strong> It provides automatic network configuration, WiFi management, and connection profiles. Essential for laptops and systems with multiple networks.</p>
</section>
<section id="set-root-password" class="level3" data-number="2.5.5">
<h3 data-number="2.5.5" class="anchored" data-anchor-id="set-root-password"><span class="header-section-number">2.5.5</span> Set Root Password</h3>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">passwd</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What this does:</strong> Sets the password for the root (administrator) account.</p>
<p><strong>Security note:</strong> Choose a strong password. Root access allows complete system control.</p>
</section>
<section id="create-user-account" class="level3" data-number="2.5.6">
<h3 data-number="2.5.6" class="anchored" data-anchor-id="create-user-account"><span class="header-section-number">2.5.6</span> Create User Account</h3>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">useradd</span> <span class="at">-mG</span> wheel <span class="at">-s</span> /bin/bash yourusername</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">passwd</span> yourusername</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What this does:</strong></p>
<ol type="1">
<li>Creates a new user with:
<ul>
<li><code>-m</code>: Creates a home directory</li>
<li><code>-G wheel</code>: Adds user to the <code>wheel</code> group (for sudo privileges)</li>
<li><code>-s /bin/bash</code>: Sets Bash as the default shell</li>
</ul></li>
<li>Sets the user’s password</li>
</ol>
<p><strong>Why not use root:</strong> Running as root constantly is dangerous. A regular user account with sudo provides security while maintaining administrative capabilities.</p>
</section>
<section id="configure-sudo" class="level3" data-number="2.5.7">
<h3 data-number="2.5.7" class="anchored" data-anchor-id="configure-sudo"><span class="header-section-number">2.5.7</span> Configure sudo</h3>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> sudo</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="ex">visudo</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What this does:</strong></p>
<ol type="1">
<li>Installs sudo (allows users to run commands as root)</li>
<li>Opens the sudoers configuration file safely</li>
</ol>
<p><strong>In visudo:</strong> Uncomment the line: <code>%wheel ALL=(ALL) ALL</code></p>
<p><strong>What this means:</strong> Any user in the <code>wheel</code> group can run any command as any user by prefixing with <code>sudo</code>.</p>
</section>
</section>
<section id="bootloader-installation" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="bootloader-installation"><span class="header-section-number">2.6</span> Bootloader Installation</h2>
<p>The bootloader is what starts your operating system when the computer powers on.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> grub efibootmgr</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="ex">grub-install</span> <span class="at">--target</span><span class="op">=</span>x86_64-efi <span class="at">--efi-directory</span><span class="op">=</span>/boot/efi <span class="at">--bootloader-id</span><span class="op">=</span>GRUB</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="ex">grub-mkconfig</span> <span class="at">-o</span> /boot/grub/grub.cfg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What each command does:</strong></p>
<ol type="1">
<li>Installs GRUB (bootloader) and efibootmgr (manages EFI boot entries)</li>
<li>Installs GRUB to the EFI partition:
<ul>
<li><code>--target=x86_64-efi</code>: Specifies UEFI mode for 64-bit systems</li>
<li><code>--efi-directory=/boot/efi</code>: Location of the EFI partition</li>
<li><code>--bootloader-id=GRUB</code>: Name shown in the firmware boot menu</li>
</ul></li>
<li>Generates GRUB configuration file (detects kernels and creates boot menu)</li>
</ol>
<section id="vm-tools-virtual-machine-only" class="level3" data-number="2.6.1">
<h3 data-number="2.6.1" class="anchored" data-anchor-id="vm-tools-virtual-machine-only"><span class="header-section-number">2.6.1</span> VM Tools (Virtual Machine Only)</h3>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> open-vm-tools</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="ex">systemctl</span> enable vmtoolsd.service</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What this does:</strong> Installs VMware integration tools for better mouse handling, clipboard sharing, and display resolution.</p>
<p><strong>Skip this step</strong> if installing on physical hardware.</p>
</section>
</section>
<section id="completing-installation" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="completing-installation"><span class="header-section-number">2.7</span> Completing Installation</h2>
<section id="exit-and-reboot" class="level3" data-number="2.7.1">
<h3 data-number="2.7.1" class="anchored" data-anchor-id="exit-and-reboot"><span class="header-section-number">2.7.1</span> Exit and Reboot</h3>
<div class="sourceCode" id="cb25"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="bu">exit</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">umount</span> <span class="at">-R</span> /mnt</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="ex">reboot</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>What this does:</strong></p>
<ol type="1">
<li>Exits the chroot environment</li>
<li>Recursively unmounts all filesystems under <code>/mnt</code></li>
<li>Reboots the system</li>
</ol>
<p><strong>Critical:</strong> Before the system restarts, remove the installation ISO from your VM settings (or physical USB drive). The system should now boot from the hard disk.</p>
</section>
</section>
<section id="first-boot" class="level2" data-number="2.8">
<h2 data-number="2.8" class="anchored" data-anchor-id="first-boot"><span class="header-section-number">2.8</span> First Boot</h2>
<p>After rebooting, you’ll see a login prompt. Log in with your username and password.</p>
<p><strong>You now have:</strong> A minimal, command-line Arch Linux system. No graphical interface yet—just a terminal.</p>
</section>
<section id="next-steps" class="level2" data-number="2.9">
<h2 data-number="2.9" class="anchored" data-anchor-id="next-steps"><span class="header-section-number">2.9</span> Next Steps</h2>
<p>To create a usable desktop environment, you’ll need to install:</p>
<ol type="1">
<li><strong>Display Server</strong> (<code>xorg-server</code>): Manages graphics output</li>
<li><strong>Window Manager</strong> (e.g., <code>i3</code>, <code>dwm</code>): Controls window placement and behavior</li>
<li><strong>Terminal Emulator</strong> (e.g., <code>alacritty</code>): Provides terminal access in the GUI</li>
<li><strong>Display Manager</strong> (e.g., <code>lightdm</code>): Provides graphical login</li>
</ol>
<p>These will be covered in subsequent chapters as you continue building your customized system.</p>
</section>
<section id="key-takeaways" class="level2" data-number="2.10">
<h2 data-number="2.10" class="anchored" data-anchor-id="key-takeaways"><span class="header-section-number">2.10</span> Key Takeaways</h2>
<ul>
<li>Manual installation teaches system architecture by requiring interaction with each component</li>
<li>Btrfs subvolumes enable flexible snapshot management</li>
<li>Proper partitioning separates bootloader, swap, and system data</li>
<li>The chroot environment allows system configuration before first boot</li>
<li>Starting minimal allows you to understand each layer you add</li>
</ul>
<p>This foundation provides complete control over your Linux system and prepares you for advanced customization.</p>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/Aditya-Shandilya\.github\.io\/Arch-Installation-and-Setup\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../index.html" class="pagination-link" aria-label="Welcome">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Welcome</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../content/graphical-environment.html" class="pagination-link" aria-label="Building the Graphical Environment">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Building the Graphical Environment</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb26" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Manual Arch Linux Installation</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">## Introduction</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>This chapter documents a manual Arch Linux installation process. Unlike automated installers, this approach requires understanding each component of the system. The goal is to build knowledge incrementally, creating a foundation for deeper Linux expertise.</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>The installation follows the Arch philosophy: simplicity, user control, and transparency. By the end, you'll have a minimal, command-line system ready for customization.</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="fu">## Pre-Installation Checks</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>Before installing, verify that the live environment is configured correctly.</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="fu">### Verify Boot Mode</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> /sys/firmware/efi/efivars</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>**What this does:** Checks if the system booted in UEFI mode. If the directory exists and contains files, you're in UEFI mode. This is important because the bootloader installation later depends on the boot mode.</span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>**Why it matters:** Modern systems use UEFI instead of legacy BIOS. UEFI provides better security features and faster boot times. The presence of <span class="in">`efivars`</span> confirms the firmware interface is accessible.</span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a><span class="fu">### Verify Network Connectivity</span></span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a><span class="fu">ping</span> archlinux.org</span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a>**What this does:** Sends network packets to verify internet connectivity. Press <span class="in">`Ctrl+C`</span> to stop.</span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a>**Why it matters:** The installation requires downloading packages from remote repositories. The live environment typically configures networking automatically via DHCP, but it's essential to verify before proceeding.</span>
<span id="cb26-32"><a href="#cb26-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-33"><a href="#cb26-33" aria-hidden="true" tabindex="-1"></a><span class="fu">### Update System Clock</span></span>
<span id="cb26-34"><a href="#cb26-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-35"><a href="#cb26-35" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-36"><a href="#cb26-36" aria-hidden="true" tabindex="-1"></a><span class="ex">timedatectl</span> set-ntp true</span>
<span id="cb26-37"><a href="#cb26-37" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-38"><a href="#cb26-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-39"><a href="#cb26-39" aria-hidden="true" tabindex="-1"></a>**What this does:** Enables Network Time Protocol (NTP) synchronization, ensuring the system clock is accurate.</span>
<span id="cb26-40"><a href="#cb26-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-41"><a href="#cb26-41" aria-hidden="true" tabindex="-1"></a>**Why it matters:** Accurate timestamps are crucial for package management, encryption, and system logs. Many security protocols depend on synchronized time.</span>
<span id="cb26-42"><a href="#cb26-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-43"><a href="#cb26-43" aria-hidden="true" tabindex="-1"></a><span class="fu">## Disk Partitioning and Preparation</span></span>
<span id="cb26-44"><a href="#cb26-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-45"><a href="#cb26-45" aria-hidden="true" tabindex="-1"></a>This section creates the disk structure: an EFI partition for the bootloader, a swap partition for memory overflow, and a Btrfs partition for the root filesystem.</span>
<span id="cb26-46"><a href="#cb26-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-47"><a href="#cb26-47" aria-hidden="true" tabindex="-1"></a><span class="fu">### Understanding the Layout</span></span>
<span id="cb26-48"><a href="#cb26-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-49"><a href="#cb26-49" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**EFI Partition (512MB):** Stores bootloader files. Must be FAT32 format.</span>
<span id="cb26-50"><a href="#cb26-50" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Swap Partition (2GB):** Acts as overflow when RAM is full. Size typically matches RAM for systems with ≤8GB.</span>
<span id="cb26-51"><a href="#cb26-51" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Root Partition (Remaining):** Contains the entire Linux system using Btrfs filesystem.</span>
<span id="cb26-52"><a href="#cb26-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-53"><a href="#cb26-53" aria-hidden="true" tabindex="-1"></a><span class="fu">### Partition the Disk</span></span>
<span id="cb26-54"><a href="#cb26-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-55"><a href="#cb26-55" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-56"><a href="#cb26-56" aria-hidden="true" tabindex="-1"></a><span class="ex">cfdisk</span> /dev/sda</span>
<span id="cb26-57"><a href="#cb26-57" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-58"><a href="#cb26-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-59"><a href="#cb26-59" aria-hidden="true" tabindex="-1"></a>**What this does:** Opens an interactive partition editor. The disk is typically <span class="in">`/dev/sda`</span> in virtual machines.</span>
<span id="cb26-60"><a href="#cb26-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-61"><a href="#cb26-61" aria-hidden="true" tabindex="-1"></a>**Step-by-step:**</span>
<span id="cb26-62"><a href="#cb26-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-63"><a href="#cb26-63" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Select **gpt** when prompted. GPT (GUID Partition Table) is required for UEFI and supports disks larger than 2TB.</span>
<span id="cb26-64"><a href="#cb26-64" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Create the EFI partition:</span>
<span id="cb26-65"><a href="#cb26-65" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Select **New** → Enter <span class="in">`512M`</span></span>
<span id="cb26-66"><a href="#cb26-66" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Navigate to **Type** → Select **EFI System**</span>
<span id="cb26-67"><a href="#cb26-67" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Create the swap partition:</span>
<span id="cb26-68"><a href="#cb26-68" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Select **New** → Enter <span class="in">`2G`</span></span>
<span id="cb26-69"><a href="#cb26-69" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Navigate to **Type** → Select **Linux swap**</span>
<span id="cb26-70"><a href="#cb26-70" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>Create the root partition:</span>
<span id="cb26-71"><a href="#cb26-71" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Select **New** → Press Enter (uses remaining space)</span>
<span id="cb26-72"><a href="#cb26-72" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Type should default to **Linux filesystem**</span>
<span id="cb26-73"><a href="#cb26-73" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>Select **Write** → Type `yes` → Select **Quit**</span>
<span id="cb26-74"><a href="#cb26-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-75"><a href="#cb26-75" aria-hidden="true" tabindex="-1"></a>**Why these choices:** GPT is modern and required for UEFI. The 512MB EFI partition provides ample space for multiple kernels. The 2GB swap allows basic memory management without wasting disk space.</span>
<span id="cb26-76"><a href="#cb26-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-77"><a href="#cb26-77" aria-hidden="true" tabindex="-1"></a><span class="fu">### Format the Partitions</span></span>
<span id="cb26-78"><a href="#cb26-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-79"><a href="#cb26-79" aria-hidden="true" tabindex="-1"></a>Formatting creates filesystems on the raw partitions, making them usable by the operating system.</span>
<span id="cb26-80"><a href="#cb26-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-81"><a href="#cb26-81" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-82"><a href="#cb26-82" aria-hidden="true" tabindex="-1"></a><span class="ex">mkfs.fat</span> <span class="at">-F32</span> /dev/sda1         <span class="co"># EFI partition</span></span>
<span id="cb26-83"><a href="#cb26-83" aria-hidden="true" tabindex="-1"></a><span class="ex">mkswap</span> /dev/sda2                <span class="co"># Swap partition</span></span>
<span id="cb26-84"><a href="#cb26-84" aria-hidden="true" tabindex="-1"></a><span class="ex">swapon</span> /dev/sda2                <span class="co"># Activate swap</span></span>
<span id="cb26-85"><a href="#cb26-85" aria-hidden="true" tabindex="-1"></a><span class="ex">mkfs.btrfs</span> <span class="at">-L</span> ArchRoot /dev/sda3  <span class="co"># Root partition</span></span>
<span id="cb26-86"><a href="#cb26-86" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-87"><a href="#cb26-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-88"><a href="#cb26-88" aria-hidden="true" tabindex="-1"></a>**What each command does:**</span>
<span id="cb26-89"><a href="#cb26-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-90"><a href="#cb26-90" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`mkfs.fat -F32`</span>: Creates a FAT32 filesystem (required for EFI).</span>
<span id="cb26-91"><a href="#cb26-91" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`mkswap`</span>: Prepares the partition for use as swap space.</span>
<span id="cb26-92"><a href="#cb26-92" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`swapon`</span>: Activates swap immediately for the installation process.</span>
<span id="cb26-93"><a href="#cb26-93" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`mkfs.btrfs -L ArchRoot`</span>: Creates a Btrfs filesystem with the label "ArchRoot".</span>
<span id="cb26-94"><a href="#cb26-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-95"><a href="#cb26-95" aria-hidden="true" tabindex="-1"></a>**Why Btrfs:** Btrfs offers advanced features like snapshots, compression, and subvolumes. Subvolumes allow separate management of different directory trees while sharing the same filesystem.</span>
<span id="cb26-96"><a href="#cb26-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-97"><a href="#cb26-97" aria-hidden="true" tabindex="-1"></a><span class="fu">### Create and Mount Btrfs Subvolumes</span></span>
<span id="cb26-98"><a href="#cb26-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-99"><a href="#cb26-99" aria-hidden="true" tabindex="-1"></a>Subvolumes provide flexibility for snapshots and separate management of system components.</span>
<span id="cb26-100"><a href="#cb26-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-101"><a href="#cb26-101" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-102"><a href="#cb26-102" aria-hidden="true" tabindex="-1"></a><span class="fu">mount</span> /dev/sda3 /mnt</span>
<span id="cb26-103"><a href="#cb26-103" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-104"><a href="#cb26-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-105"><a href="#cb26-105" aria-hidden="true" tabindex="-1"></a>**What this does:** Temporarily mounts the Btrfs partition to create subvolumes.</span>
<span id="cb26-106"><a href="#cb26-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-107"><a href="#cb26-107" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-108"><a href="#cb26-108" aria-hidden="true" tabindex="-1"></a><span class="ex">btrfs</span> subvolume create /mnt/@</span>
<span id="cb26-109"><a href="#cb26-109" aria-hidden="true" tabindex="-1"></a><span class="ex">btrfs</span> subvolume create /mnt/home</span>
<span id="cb26-110"><a href="#cb26-110" aria-hidden="true" tabindex="-1"></a><span class="ex">btrfs</span> subvolume create /mnt/@pkg</span>
<span id="cb26-111"><a href="#cb26-111" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-112"><a href="#cb26-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-113"><a href="#cb26-113" aria-hidden="true" tabindex="-1"></a>**What this does:** Creates three subvolumes:</span>
<span id="cb26-114"><a href="#cb26-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-115"><a href="#cb26-115" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`@`</span>: The root filesystem (follows Btrfs naming convention)</span>
<span id="cb26-116"><a href="#cb26-116" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`home`</span>: User home directories</span>
<span id="cb26-117"><a href="#cb26-117" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`@pkg`</span>: Package cache at <span class="in">`/var/cache/pacman/pkg`</span></span>
<span id="cb26-118"><a href="#cb26-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-119"><a href="#cb26-119" aria-hidden="true" tabindex="-1"></a>**Why separate subvolumes:** This allows independent snapshots of the root system without including user data or the package cache. You can restore the system without affecting personal files.</span>
<span id="cb26-120"><a href="#cb26-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-121"><a href="#cb26-121" aria-hidden="true" tabindex="-1"></a><span class="fu">### Remount with Optimizations</span></span>
<span id="cb26-122"><a href="#cb26-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-123"><a href="#cb26-123" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-124"><a href="#cb26-124" aria-hidden="true" tabindex="-1"></a><span class="fu">umount</span> /mnt</span>
<span id="cb26-125"><a href="#cb26-125" aria-hidden="true" tabindex="-1"></a><span class="fu">mount</span> <span class="at">-o</span> compress=zstd,noatime,subvol=@ /dev/sda3 /mnt</span>
<span id="cb26-126"><a href="#cb26-126" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-127"><a href="#cb26-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-128"><a href="#cb26-128" aria-hidden="true" tabindex="-1"></a>**What this does:** Unmounts the filesystem, then remounts the root subvolume with specific options.</span>
<span id="cb26-129"><a href="#cb26-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-130"><a href="#cb26-130" aria-hidden="true" tabindex="-1"></a>**Mount options explained:**</span>
<span id="cb26-131"><a href="#cb26-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-132"><a href="#cb26-132" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`compress=zstd`</span>: Enables transparent compression using Zstandard algorithm. Saves disk space and can improve performance on modern CPUs.</span>
<span id="cb26-133"><a href="#cb26-133" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`noatime`</span>: Disables recording file access times, reducing write operations and improving performance.</span>
<span id="cb26-134"><a href="#cb26-134" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`subvol=@`</span>: Mounts the root subvolume specifically.</span>
<span id="cb26-135"><a href="#cb26-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-136"><a href="#cb26-136" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mount Remaining Subvolumes and EFI</span></span>
<span id="cb26-137"><a href="#cb26-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-138"><a href="#cb26-138" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-139"><a href="#cb26-139" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> <span class="at">-p</span> /mnt/<span class="dt">{boot/efi</span><span class="op">,</span><span class="dt">home</span><span class="op">,</span><span class="dt">var/cache/pacman/pkg}</span></span>
<span id="cb26-140"><a href="#cb26-140" aria-hidden="true" tabindex="-1"></a><span class="fu">mount</span> <span class="at">-o</span> compress=zstd,noatime,subvol=home /dev/sda3 /mnt/home</span>
<span id="cb26-141"><a href="#cb26-141" aria-hidden="true" tabindex="-1"></a><span class="fu">mount</span> <span class="at">-o</span> compress=zstd,noatime,subvol=@pkg /dev/sda3 /mnt/var/cache/pacman/pkg</span>
<span id="cb26-142"><a href="#cb26-142" aria-hidden="true" tabindex="-1"></a><span class="fu">mount</span> /dev/sda1 /mnt/boot/efi</span>
<span id="cb26-143"><a href="#cb26-143" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-144"><a href="#cb26-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-145"><a href="#cb26-145" aria-hidden="true" tabindex="-1"></a>**What this does:**</span>
<span id="cb26-146"><a href="#cb26-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-147"><a href="#cb26-147" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Creates necessary directories under <span class="in">`/mnt`</span></span>
<span id="cb26-148"><a href="#cb26-148" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Mounts <span class="in">`home`</span> subvolume to <span class="in">`/mnt/home`</span></span>
<span id="cb26-149"><a href="#cb26-149" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Mounts <span class="in">`@pkg`</span> subvolume to the pacman cache location</span>
<span id="cb26-150"><a href="#cb26-150" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>Mounts the EFI partition to <span class="in">`/mnt/boot/efi`</span></span>
<span id="cb26-151"><a href="#cb26-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-152"><a href="#cb26-152" aria-hidden="true" tabindex="-1"></a>**Verification:** Run <span class="in">`lsblk`</span> to view the partition structure and confirm all mounts are correct.</span>
<span id="cb26-153"><a href="#cb26-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-154"><a href="#cb26-154" aria-hidden="true" tabindex="-1"></a><span class="fu">## Installing the Base System</span></span>
<span id="cb26-155"><a href="#cb26-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-156"><a href="#cb26-156" aria-hidden="true" tabindex="-1"></a><span class="fu">### Configure Package Mirrors</span></span>
<span id="cb26-157"><a href="#cb26-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-158"><a href="#cb26-158" aria-hidden="true" tabindex="-1"></a>Before installing packages, it's beneficial to optimize the mirror list for faster downloads.</span>
<span id="cb26-159"><a href="#cb26-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-160"><a href="#cb26-160" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-161"><a href="#cb26-161" aria-hidden="true" tabindex="-1"></a><span class="ex">vim</span> /etc/pacman.d/mirrorlist</span>
<span id="cb26-162"><a href="#cb26-162" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-163"><a href="#cb26-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-164"><a href="#cb26-164" aria-hidden="true" tabindex="-1"></a>**What this file contains:** A list of all available Arch Linux repository mirrors worldwide. The package manager (<span class="in">`pacman`</span>) reads this file from top to bottom and uses the first working mirror it encounters.</span>
<span id="cb26-165"><a href="#cb26-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-166"><a href="#cb26-166" aria-hidden="true" tabindex="-1"></a>**Why mirror selection matters:** Geographically closer mirrors typically provide faster download speeds, reducing installation time and improving future system updates.</span>
<span id="cb26-167"><a href="#cb26-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-168"><a href="#cb26-168" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Understanding Mirror Geography</span></span>
<span id="cb26-169"><a href="#cb26-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-170"><a href="#cb26-170" aria-hidden="true" tabindex="-1"></a>The mirrorlist contains mirrors from various locations globally:</span>
<span id="cb26-171"><a href="#cb26-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-172"><a href="#cb26-172" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Germany (DE)**: <span class="in">`de.arch.niran.jan.co`</span>, <span class="in">`arch.phinau.de`</span>, <span class="in">`berlin.mirror.pkgbuild.com`</span></span>
<span id="cb26-173"><a href="#cb26-173" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**United States (US)**: <span class="in">`us.arch.mirror.constant.com`</span>, <span class="in">`losangeles.mirror.pkgbuild.com`</span></span>
<span id="cb26-174"><a href="#cb26-174" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Singapore**: <span class="in">`singapore.mirror.pkgbuild.com`</span></span>
<span id="cb26-175"><a href="#cb26-175" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**South Africa**: <span class="in">`johannesburg.mirror.pkgbuild.com`</span></span>
<span id="cb26-176"><a href="#cb26-176" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Europe (General)**: <span class="in">`mirror.xtom.ee`</span>, <span class="in">`archlinux.tk-leaf.net`</span></span>
<span id="cb26-177"><a href="#cb26-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-178"><a href="#cb26-178" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Prioritizing Your Nearest Mirrors</span></span>
<span id="cb26-179"><a href="#cb26-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-180"><a href="#cb26-180" aria-hidden="true" tabindex="-1"></a>**Steps to reorder mirrors:**</span>
<span id="cb26-181"><a href="#cb26-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-182"><a href="#cb26-182" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>In <span class="in">`vim`</span>, navigate using arrow keys to locate mirrors closest to your location</span>
<span id="cb26-183"><a href="#cb26-183" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Position your cursor on the line of your preferred mirror</span>
<span id="cb26-184"><a href="#cb26-184" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Press <span class="in">`dd`</span> to cut (delete) the entire line</span>
<span id="cb26-185"><a href="#cb26-185" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>Move to the top of the list (below the comment headers)</span>
<span id="cb26-186"><a href="#cb26-186" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>Press <span class="in">`p`</span> to paste the line</span>
<span id="cb26-187"><a href="#cb26-187" aria-hidden="true" tabindex="-1"></a><span class="ss">6. </span>Repeat for additional nearby mirrors to create a prioritized list</span>
<span id="cb26-188"><a href="#cb26-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-189"><a href="#cb26-189" aria-hidden="true" tabindex="-1"></a>**Example for Germany:** You would move these mirrors to the top:</span>
<span id="cb26-190"><a href="#cb26-190" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-191"><a href="#cb26-191" aria-hidden="true" tabindex="-1"></a><span class="in">Server = https://de.arch.niran.jan.co/$repo/os/$arch</span></span>
<span id="cb26-192"><a href="#cb26-192" aria-hidden="true" tabindex="-1"></a><span class="in">Server = https://arch.phinau.de/$repo/os/$arch</span></span>
<span id="cb26-193"><a href="#cb26-193" aria-hidden="true" tabindex="-1"></a><span class="in">Server = https://berlin.mirror.pkgbuild.com/$repo/os/$arch</span></span>
<span id="cb26-194"><a href="#cb26-194" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-195"><a href="#cb26-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-196"><a href="#cb26-196" aria-hidden="true" tabindex="-1"></a>**Vim commands reference:**</span>
<span id="cb26-197"><a href="#cb26-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-198"><a href="#cb26-198" aria-hidden="true" tabindex="-1"></a>Vim operates in different modes. Understanding this is key to using it effectively:</span>
<span id="cb26-199"><a href="#cb26-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-200"><a href="#cb26-200" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Normal mode** (default): For navigation and commands</span>
<span id="cb26-201"><a href="#cb26-201" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`j`</span>: Move down one line</span>
<span id="cb26-202"><a href="#cb26-202" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`k`</span>: Move up one line</span>
<span id="cb26-203"><a href="#cb26-203" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Arrow keys: Also work for navigation (up, down, left, right)</span>
<span id="cb26-204"><a href="#cb26-204" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`dd`</span>: Cut (delete) the current line</span>
<span id="cb26-205"><a href="#cb26-205" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`p`</span>: Paste below the cursor</span>
<span id="cb26-206"><a href="#cb26-206" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Insert mode**: For typing text</span>
<span id="cb26-207"><a href="#cb26-207" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`i`</span>: Enter insert mode (you'll see <span class="in">`-- INSERT --`</span> at the bottom)</span>
<span id="cb26-208"><a href="#cb26-208" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>In insert mode, <span class="in">`j`</span> and <span class="in">`k`</span> type the letters 'j' and 'k' instead of moving</span>
<span id="cb26-209"><a href="#cb26-209" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Arrow keys still work for navigation even in insert mode</span>
<span id="cb26-210"><a href="#cb26-210" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Command mode**: For saving and quitting</span>
<span id="cb26-211"><a href="#cb26-211" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`ESC`</span>: Return to normal mode from any other mode</span>
<span id="cb26-212"><a href="#cb26-212" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`:wq`</span>: Write (save) and quit</span>
<span id="cb26-213"><a href="#cb26-213" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`:q!`</span>: Quit without saving (if you make a mistake)</span>
<span id="cb26-214"><a href="#cb26-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-215"><a href="#cb26-215" aria-hidden="true" tabindex="-1"></a>**Quick tip:** If you're unsure which mode you're in, press <span class="in">`ESC`</span> to return to normal mode.</span>
<span id="cb26-216"><a href="#cb26-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-217"><a href="#cb26-217" aria-hidden="true" tabindex="-1"></a>**Saving and exiting:**</span>
<span id="cb26-218"><a href="#cb26-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-219"><a href="#cb26-219" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Press <span class="in">`ESC`</span> to ensure you're in normal mode</span>
<span id="cb26-220"><a href="#cb26-220" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Type <span class="in">`:wq`</span> and press <span class="in">`Enter`</span></span>
<span id="cb26-221"><a href="#cb26-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-222"><a href="#cb26-222" aria-hidden="true" tabindex="-1"></a>This prioritization ensures faster downloads throughout the installation and for future system updates.</span>
<span id="cb26-223"><a href="#cb26-223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-224"><a href="#cb26-224" aria-hidden="true" tabindex="-1"></a><span class="fu">### Understanding pacstrap</span></span>
<span id="cb26-225"><a href="#cb26-225" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-226"><a href="#cb26-226" aria-hidden="true" tabindex="-1"></a>The <span class="in">`pacstrap`</span> script installs packages to a specified directory, creating the foundation of your Arch system.</span>
<span id="cb26-227"><a href="#cb26-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-228"><a href="#cb26-228" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-229"><a href="#cb26-229" aria-hidden="true" tabindex="-1"></a><span class="ex">pacstrap</span> /mnt base linux linux-firmware vim</span>
<span id="cb26-230"><a href="#cb26-230" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-231"><a href="#cb26-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-232"><a href="#cb26-232" aria-hidden="true" tabindex="-1"></a>**What this installs:**</span>
<span id="cb26-233"><a href="#cb26-233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-234"><a href="#cb26-234" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`base`</span>: Meta-package containing essential system utilities</span>
<span id="cb26-235"><a href="#cb26-235" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`linux`</span>: The Linux kernel</span>
<span id="cb26-236"><a href="#cb26-236" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`linux-firmware`</span>: Binary firmware files for common hardware</span>
<span id="cb26-237"><a href="#cb26-237" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`vim`</span>: Text editor (you can substitute with <span class="in">`nano`</span> if preferred)</span>
<span id="cb26-238"><a href="#cb26-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-239"><a href="#cb26-239" aria-hidden="true" tabindex="-1"></a>**Why these packages:** The <span class="in">`base`</span> package provides the bare minimum for a bootable system. The kernel is the operating system core. Firmware enables hardware like WiFi cards and graphics adapters. A text editor is essential for configuration.</span>
<span id="cb26-240"><a href="#cb26-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-241"><a href="#cb26-241" aria-hidden="true" tabindex="-1"></a><span class="fu">### Generate fstab</span></span>
<span id="cb26-242"><a href="#cb26-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-243"><a href="#cb26-243" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-244"><a href="#cb26-244" aria-hidden="true" tabindex="-1"></a><span class="ex">genfstab</span> <span class="at">-U</span> /mnt <span class="op">&gt;&gt;</span> /mnt/etc/fstab</span>
<span id="cb26-245"><a href="#cb26-245" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-246"><a href="#cb26-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-247"><a href="#cb26-247" aria-hidden="true" tabindex="-1"></a>**What this does:** Creates the <span class="in">`/etc/fstab`</span> file, which defines how partitions and subvolumes mount at boot.</span>
<span id="cb26-248"><a href="#cb26-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-249"><a href="#cb26-249" aria-hidden="true" tabindex="-1"></a>**The `-U` flag:** Uses UUIDs (Universally Unique Identifiers) instead of device names. UUIDs remain consistent even if device naming changes, making the system more robust.</span>
<span id="cb26-250"><a href="#cb26-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-251"><a href="#cb26-251" aria-hidden="true" tabindex="-1"></a><span class="fu">## System Configuration</span></span>
<span id="cb26-252"><a href="#cb26-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-253"><a href="#cb26-253" aria-hidden="true" tabindex="-1"></a><span class="fu">### Enter the New System</span></span>
<span id="cb26-254"><a href="#cb26-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-255"><a href="#cb26-255" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-256"><a href="#cb26-256" aria-hidden="true" tabindex="-1"></a><span class="ex">arch-chroot</span> /mnt</span>
<span id="cb26-257"><a href="#cb26-257" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-258"><a href="#cb26-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-259"><a href="#cb26-259" aria-hidden="true" tabindex="-1"></a>**What this does:** Changes root into the new installation. This means you're now operating within the newly installed system rather than the live environment.</span>
<span id="cb26-260"><a href="#cb26-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-261"><a href="#cb26-261" aria-hidden="true" tabindex="-1"></a>**Why chroot:** This allows you to configure the system as if you had booted into it. All commands now affect the installed system, not the live USB.</span>
<span id="cb26-262"><a href="#cb26-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-263"><a href="#cb26-263" aria-hidden="true" tabindex="-1"></a><span class="fu">### Set Time Zone</span></span>
<span id="cb26-264"><a href="#cb26-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-265"><a href="#cb26-265" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-266"><a href="#cb26-266" aria-hidden="true" tabindex="-1"></a><span class="fu">ln</span> <span class="at">-sf</span> /usr/share/zoneinfo/Region/City /etc/localtime</span>
<span id="cb26-267"><a href="#cb26-267" aria-hidden="true" tabindex="-1"></a><span class="ex">hwclock</span> <span class="at">--systohc</span></span>
<span id="cb26-268"><a href="#cb26-268" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-269"><a href="#cb26-269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-270"><a href="#cb26-270" aria-hidden="true" tabindex="-1"></a>**What this does:**</span>
<span id="cb26-271"><a href="#cb26-271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-272"><a href="#cb26-272" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Creates a symbolic link from your timezone file to <span class="in">`/etc/localtime`</span></span>
<span id="cb26-273"><a href="#cb26-273" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Generates <span class="in">`/etc/adjtime`</span> based on the current system time</span>
<span id="cb26-274"><a href="#cb26-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-275"><a href="#cb26-275" aria-hidden="true" tabindex="-1"></a>**Example:** For New York: <span class="in">`ln -sf /usr/share/zoneinfo/America/New_York /etc/localtime`</span></span>
<span id="cb26-276"><a href="#cb26-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-277"><a href="#cb26-277" aria-hidden="true" tabindex="-1"></a>**Why this matters:** The timezone setting affects timestamps in logs, scheduled tasks, and user-facing time displays.</span>
<span id="cb26-278"><a href="#cb26-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-279"><a href="#cb26-279" aria-hidden="true" tabindex="-1"></a><span class="fu">### Configure Localization</span></span>
<span id="cb26-280"><a href="#cb26-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-281"><a href="#cb26-281" aria-hidden="true" tabindex="-1"></a>Locales define language, character encoding, and regional formatting.</span>
<span id="cb26-282"><a href="#cb26-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-283"><a href="#cb26-283" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-284"><a href="#cb26-284" aria-hidden="true" tabindex="-1"></a><span class="ex">vim</span> /etc/locale.gen</span>
<span id="cb26-285"><a href="#cb26-285" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-286"><a href="#cb26-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-287"><a href="#cb26-287" aria-hidden="true" tabindex="-1"></a>**What to do:** Uncomment your locale(s). Most users will uncomment <span class="in">`en_US.UTF-8 UTF-8`</span>.</span>
<span id="cb26-288"><a href="#cb26-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-289"><a href="#cb26-289" aria-hidden="true" tabindex="-1"></a>**Understanding UTF-8:** UTF-8 is a character encoding that supports international characters. It's the standard for modern Linux systems.</span>
<span id="cb26-290"><a href="#cb26-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-291"><a href="#cb26-291" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-292"><a href="#cb26-292" aria-hidden="true" tabindex="-1"></a><span class="ex">locale-gen</span></span>
<span id="cb26-293"><a href="#cb26-293" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"LANG=en_US.UTF-8"</span> <span class="op">&gt;</span> /etc/locale.conf</span>
<span id="cb26-294"><a href="#cb26-294" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-295"><a href="#cb26-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-296"><a href="#cb26-296" aria-hidden="true" tabindex="-1"></a>**What this does:**</span>
<span id="cb26-297"><a href="#cb26-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-298"><a href="#cb26-298" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Generates the locale files you uncommented</span>
<span id="cb26-299"><a href="#cb26-299" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Sets the system-wide default locale</span>
<span id="cb26-300"><a href="#cb26-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-301"><a href="#cb26-301" aria-hidden="true" tabindex="-1"></a><span class="fu">### Configure Networking</span></span>
<span id="cb26-302"><a href="#cb26-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-303"><a href="#cb26-303" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-304"><a href="#cb26-304" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"your-hostname"</span> <span class="op">&gt;</span> /etc/hostname</span>
<span id="cb26-305"><a href="#cb26-305" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-306"><a href="#cb26-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-307"><a href="#cb26-307" aria-hidden="true" tabindex="-1"></a>**What this does:** Sets your computer's name on the network. Choose something memorable and unique.</span>
<span id="cb26-308"><a href="#cb26-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-309"><a href="#cb26-309" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-310"><a href="#cb26-310" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> networkmanager</span>
<span id="cb26-311"><a href="#cb26-311" aria-hidden="true" tabindex="-1"></a><span class="ex">systemctl</span> enable NetworkManager</span>
<span id="cb26-312"><a href="#cb26-312" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-313"><a href="#cb26-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-314"><a href="#cb26-314" aria-hidden="true" tabindex="-1"></a>**What this does:**</span>
<span id="cb26-315"><a href="#cb26-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-316"><a href="#cb26-316" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Installs NetworkManager, a program that handles network connections</span>
<span id="cb26-317"><a href="#cb26-317" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Enables the service to start automatically at boot</span>
<span id="cb26-318"><a href="#cb26-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-319"><a href="#cb26-319" aria-hidden="true" tabindex="-1"></a>**Why NetworkManager:** It provides automatic network configuration, WiFi management, and connection profiles. Essential for laptops and systems with multiple networks.</span>
<span id="cb26-320"><a href="#cb26-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-321"><a href="#cb26-321" aria-hidden="true" tabindex="-1"></a><span class="fu">### Set Root Password</span></span>
<span id="cb26-322"><a href="#cb26-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-323"><a href="#cb26-323" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-324"><a href="#cb26-324" aria-hidden="true" tabindex="-1"></a><span class="fu">passwd</span></span>
<span id="cb26-325"><a href="#cb26-325" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-326"><a href="#cb26-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-327"><a href="#cb26-327" aria-hidden="true" tabindex="-1"></a>**What this does:** Sets the password for the root (administrator) account.</span>
<span id="cb26-328"><a href="#cb26-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-329"><a href="#cb26-329" aria-hidden="true" tabindex="-1"></a>**Security note:** Choose a strong password. Root access allows complete system control.</span>
<span id="cb26-330"><a href="#cb26-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-331"><a href="#cb26-331" aria-hidden="true" tabindex="-1"></a><span class="fu">### Create User Account</span></span>
<span id="cb26-332"><a href="#cb26-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-333"><a href="#cb26-333" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-334"><a href="#cb26-334" aria-hidden="true" tabindex="-1"></a><span class="ex">useradd</span> <span class="at">-mG</span> wheel <span class="at">-s</span> /bin/bash yourusername</span>
<span id="cb26-335"><a href="#cb26-335" aria-hidden="true" tabindex="-1"></a><span class="fu">passwd</span> yourusername</span>
<span id="cb26-336"><a href="#cb26-336" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-337"><a href="#cb26-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-338"><a href="#cb26-338" aria-hidden="true" tabindex="-1"></a>**What this does:**</span>
<span id="cb26-339"><a href="#cb26-339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-340"><a href="#cb26-340" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Creates a new user with:</span>
<span id="cb26-341"><a href="#cb26-341" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span><span class="in">`-m`</span>: Creates a home directory</span>
<span id="cb26-342"><a href="#cb26-342" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span><span class="in">`-G wheel`</span>: Adds user to the <span class="in">`wheel`</span> group (for sudo privileges)</span>
<span id="cb26-343"><a href="#cb26-343" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span><span class="in">`-s /bin/bash`</span>: Sets Bash as the default shell</span>
<span id="cb26-344"><a href="#cb26-344" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Sets the user's password</span>
<span id="cb26-345"><a href="#cb26-345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-346"><a href="#cb26-346" aria-hidden="true" tabindex="-1"></a>**Why not use root:** Running as root constantly is dangerous. A regular user account with sudo provides security while maintaining administrative capabilities.</span>
<span id="cb26-347"><a href="#cb26-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-348"><a href="#cb26-348" aria-hidden="true" tabindex="-1"></a><span class="fu">### Configure sudo</span></span>
<span id="cb26-349"><a href="#cb26-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-350"><a href="#cb26-350" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-351"><a href="#cb26-351" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> sudo</span>
<span id="cb26-352"><a href="#cb26-352" aria-hidden="true" tabindex="-1"></a><span class="ex">visudo</span></span>
<span id="cb26-353"><a href="#cb26-353" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-354"><a href="#cb26-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-355"><a href="#cb26-355" aria-hidden="true" tabindex="-1"></a>**What this does:**</span>
<span id="cb26-356"><a href="#cb26-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-357"><a href="#cb26-357" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Installs sudo (allows users to run commands as root)</span>
<span id="cb26-358"><a href="#cb26-358" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Opens the sudoers configuration file safely</span>
<span id="cb26-359"><a href="#cb26-359" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-360"><a href="#cb26-360" aria-hidden="true" tabindex="-1"></a>**In visudo:** Uncomment the line: <span class="in">`%wheel ALL=(ALL) ALL`</span></span>
<span id="cb26-361"><a href="#cb26-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-362"><a href="#cb26-362" aria-hidden="true" tabindex="-1"></a>**What this means:** Any user in the <span class="in">`wheel`</span> group can run any command as any user by prefixing with <span class="in">`sudo`</span>.</span>
<span id="cb26-363"><a href="#cb26-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-364"><a href="#cb26-364" aria-hidden="true" tabindex="-1"></a><span class="fu">## Bootloader Installation</span></span>
<span id="cb26-365"><a href="#cb26-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-366"><a href="#cb26-366" aria-hidden="true" tabindex="-1"></a>The bootloader is what starts your operating system when the computer powers on.</span>
<span id="cb26-367"><a href="#cb26-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-368"><a href="#cb26-368" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-369"><a href="#cb26-369" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> grub efibootmgr</span>
<span id="cb26-370"><a href="#cb26-370" aria-hidden="true" tabindex="-1"></a><span class="ex">grub-install</span> <span class="at">--target</span><span class="op">=</span>x86_64-efi <span class="at">--efi-directory</span><span class="op">=</span>/boot/efi <span class="at">--bootloader-id</span><span class="op">=</span>GRUB</span>
<span id="cb26-371"><a href="#cb26-371" aria-hidden="true" tabindex="-1"></a><span class="ex">grub-mkconfig</span> <span class="at">-o</span> /boot/grub/grub.cfg</span>
<span id="cb26-372"><a href="#cb26-372" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-373"><a href="#cb26-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-374"><a href="#cb26-374" aria-hidden="true" tabindex="-1"></a>**What each command does:**</span>
<span id="cb26-375"><a href="#cb26-375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-376"><a href="#cb26-376" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Installs GRUB (bootloader) and efibootmgr (manages EFI boot entries)</span>
<span id="cb26-377"><a href="#cb26-377" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Installs GRUB to the EFI partition:</span>
<span id="cb26-378"><a href="#cb26-378" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span><span class="in">`--target=x86_64-efi`</span>: Specifies UEFI mode for 64-bit systems</span>
<span id="cb26-379"><a href="#cb26-379" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span><span class="in">`--efi-directory=/boot/efi`</span>: Location of the EFI partition</span>
<span id="cb26-380"><a href="#cb26-380" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span><span class="in">`--bootloader-id=GRUB`</span>: Name shown in the firmware boot menu</span>
<span id="cb26-381"><a href="#cb26-381" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Generates GRUB configuration file (detects kernels and creates boot menu)</span>
<span id="cb26-382"><a href="#cb26-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-383"><a href="#cb26-383" aria-hidden="true" tabindex="-1"></a><span class="fu">### VM Tools (Virtual Machine Only)</span></span>
<span id="cb26-384"><a href="#cb26-384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-385"><a href="#cb26-385" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-386"><a href="#cb26-386" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> open-vm-tools</span>
<span id="cb26-387"><a href="#cb26-387" aria-hidden="true" tabindex="-1"></a><span class="ex">systemctl</span> enable vmtoolsd.service</span>
<span id="cb26-388"><a href="#cb26-388" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-389"><a href="#cb26-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-390"><a href="#cb26-390" aria-hidden="true" tabindex="-1"></a>**What this does:** Installs VMware integration tools for better mouse handling, clipboard sharing, and display resolution.</span>
<span id="cb26-391"><a href="#cb26-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-392"><a href="#cb26-392" aria-hidden="true" tabindex="-1"></a>**Skip this step** if installing on physical hardware.</span>
<span id="cb26-393"><a href="#cb26-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-394"><a href="#cb26-394" aria-hidden="true" tabindex="-1"></a><span class="fu">## Completing Installation</span></span>
<span id="cb26-395"><a href="#cb26-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-396"><a href="#cb26-396" aria-hidden="true" tabindex="-1"></a><span class="fu">### Exit and Reboot</span></span>
<span id="cb26-397"><a href="#cb26-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-398"><a href="#cb26-398" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb26-399"><a href="#cb26-399" aria-hidden="true" tabindex="-1"></a><span class="bu">exit</span></span>
<span id="cb26-400"><a href="#cb26-400" aria-hidden="true" tabindex="-1"></a><span class="fu">umount</span> <span class="at">-R</span> /mnt</span>
<span id="cb26-401"><a href="#cb26-401" aria-hidden="true" tabindex="-1"></a><span class="ex">reboot</span></span>
<span id="cb26-402"><a href="#cb26-402" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-403"><a href="#cb26-403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-404"><a href="#cb26-404" aria-hidden="true" tabindex="-1"></a>**What this does:**</span>
<span id="cb26-405"><a href="#cb26-405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-406"><a href="#cb26-406" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Exits the chroot environment</span>
<span id="cb26-407"><a href="#cb26-407" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Recursively unmounts all filesystems under <span class="in">`/mnt`</span></span>
<span id="cb26-408"><a href="#cb26-408" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Reboots the system</span>
<span id="cb26-409"><a href="#cb26-409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-410"><a href="#cb26-410" aria-hidden="true" tabindex="-1"></a>**Critical:** Before the system restarts, remove the installation ISO from your VM settings (or physical USB drive). The system should now boot from the hard disk.</span>
<span id="cb26-411"><a href="#cb26-411" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-412"><a href="#cb26-412" aria-hidden="true" tabindex="-1"></a><span class="fu">## First Boot</span></span>
<span id="cb26-413"><a href="#cb26-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-414"><a href="#cb26-414" aria-hidden="true" tabindex="-1"></a>After rebooting, you'll see a login prompt. Log in with your username and password.</span>
<span id="cb26-415"><a href="#cb26-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-416"><a href="#cb26-416" aria-hidden="true" tabindex="-1"></a>**You now have:** A minimal, command-line Arch Linux system. No graphical interface yet—just a terminal.</span>
<span id="cb26-417"><a href="#cb26-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-418"><a href="#cb26-418" aria-hidden="true" tabindex="-1"></a><span class="fu">## Next Steps</span></span>
<span id="cb26-419"><a href="#cb26-419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-420"><a href="#cb26-420" aria-hidden="true" tabindex="-1"></a>To create a usable desktop environment, you'll need to install:</span>
<span id="cb26-421"><a href="#cb26-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-422"><a href="#cb26-422" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**Display Server** (<span class="in">`xorg-server`</span>): Manages graphics output</span>
<span id="cb26-423"><a href="#cb26-423" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>**Window Manager** (e.g., <span class="in">`i3`</span>, <span class="in">`dwm`</span>): Controls window placement and behavior</span>
<span id="cb26-424"><a href="#cb26-424" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>**Terminal Emulator** (e.g., <span class="in">`alacritty`</span>): Provides terminal access in the GUI</span>
<span id="cb26-425"><a href="#cb26-425" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>**Display Manager** (e.g., <span class="in">`lightdm`</span>): Provides graphical login</span>
<span id="cb26-426"><a href="#cb26-426" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-427"><a href="#cb26-427" aria-hidden="true" tabindex="-1"></a>These will be covered in subsequent chapters as you continue building your customized system.</span>
<span id="cb26-428"><a href="#cb26-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-429"><a href="#cb26-429" aria-hidden="true" tabindex="-1"></a><span class="fu">## Key Takeaways</span></span>
<span id="cb26-430"><a href="#cb26-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-431"><a href="#cb26-431" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Manual installation teaches system architecture by requiring interaction with each component</span>
<span id="cb26-432"><a href="#cb26-432" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Btrfs subvolumes enable flexible snapshot management</span>
<span id="cb26-433"><a href="#cb26-433" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Proper partitioning separates bootloader, swap, and system data</span>
<span id="cb26-434"><a href="#cb26-434" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The chroot environment allows system configuration before first boot</span>
<span id="cb26-435"><a href="#cb26-435" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Starting minimal allows you to understand each layer you add</span>
<span id="cb26-436"><a href="#cb26-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-437"><a href="#cb26-437" aria-hidden="true" tabindex="-1"></a>This foundation provides complete control over your Linux system and prepares you for advanced customization.</span></code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/Aditya-Shandilya/Arch-Installation-and-Setup/edit/main/content/arch-installation.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/Aditya-Shandilya/Arch-Installation-and-Setup/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>